<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Video Spam Overlay</title>
  <style>
    body {
      margin: 0;
      background: #000;
      overflow: hidden;
    }
    #video-container {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      width: 100vw;
      height: 100vh;
      pointer-events: none;
    }
    video {
      position: absolute;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      object-fit: cover;
      opacity: 0.18;
      transition: transform 0.5s, box-shadow 0.2s;
      cursor: grab;
      /* Each video will be slightly transparent */
    }
    video.dragging {
      box-shadow: 0 0 32px 8px #fff5;
      cursor: grabbing;
      z-index: 10000 !important;
    }
  </style>
</head>
<body>
  <div id="video-container"></div>
  <div id="pattern-controls" style="position:fixed;top:10px;left:50%;transform:translateX(-50%);z-index:2000;display:flex;gap:0.5rem;">
    <button data-pattern="random">Random</button>
    <button data-pattern="grid">Grid</button>
    <button data-pattern="circle">Circle</button>
    <button data-pattern="spiral">Spiral</button>
    <button data-pattern="stack">Stack</button>
  </div>
  <div id="start-overlay" style="position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.95);color:#fff;display:flex;align-items:center;justify-content:center;z-index:1000;font-size:2rem;cursor:pointer;user-select:none;">Click to Start</div>
  <script>
  const VIDEO_SRC = './Untitled_video_-_Made_with_Clipchamp_2(1).mp4';
    const NUM_VIDEOS = 25; // Number of overlays
    const container = document.getElementById('video-container');
    let videos = [];

    function randomTransform() {
      // Random translate (-5vw to 5vw), scale (0.95-1.1), rotate (-8deg to 8deg)
      const tx = (Math.random() - 0.5) * 10; // -5vw to 5vw
      const ty = (Math.random() - 0.5) * 10; // -5vh to 5vh
      const scale = 0.95 + Math.random() * 0.15;
      const rot = (Math.random() - 0.5) * 16; // -8deg to 8deg
      return `translate(${tx}vw, ${ty}vh) scale(${scale}) rotate(${rot}deg)`;
    }

    function gridPattern() {
      const cols = Math.ceil(Math.sqrt(NUM_VIDEOS));
      const rows = Math.ceil(NUM_VIDEOS / cols);
      const w = window.innerWidth / cols;
      const h = window.innerHeight / rows;
      videos.forEach((vid, i) => {
        const col = i % cols;
        const row = Math.floor(i / cols);
        const x = col * w;
        const y = row * h;
        vid.style.transform = `translate(${x}px, ${y}px) scale(1) rotate(0deg)`;
        vid.style.width = w + 'px';
        vid.style.height = h + 'px';
        vid.dataset.x = x;
        vid.dataset.y = y;
      });
    }

    function circlePattern() {
      const cx = window.innerWidth / 2;
      const cy = window.innerHeight / 2;
      const radius = Math.min(cx, cy) * 0.7;
      videos.forEach((vid, i) => {
        const angle = (2 * Math.PI * i) / NUM_VIDEOS;
        const x = cx + radius * Math.cos(angle) - window.innerWidth / 2;
        const y = cy + radius * Math.sin(angle) - window.innerHeight / 2;
        vid.style.transform = `translate(${x}px, ${y}px) scale(0.7) rotate(${angle * 180 / Math.PI}deg)`;
        vid.style.width = '100vw';
        vid.style.height = '100vh';
        vid.dataset.x = x;
        vid.dataset.y = y;
      });
    }

    function spiralPattern() {
      const cx = window.innerWidth / 2;
      const cy = window.innerHeight / 2;
      const maxRadius = Math.min(cx, cy) * 0.8;
      videos.forEach((vid, i) => {
        const t = i / NUM_VIDEOS;
        const angle = 4 * Math.PI * t;
        const radius = maxRadius * t;
        const x = cx + radius * Math.cos(angle) - window.innerWidth / 2;
        const y = cy + radius * Math.sin(angle) - window.innerHeight / 2;
        vid.style.transform = `translate(${x}px, ${y}px) scale(${0.5 + 0.5 * (1-t)}) rotate(${angle * 180 / Math.PI}deg)`;
        vid.style.width = '100vw';
        vid.style.height = '100vh';
        vid.dataset.x = x;
        vid.dataset.y = y;
      });
    }

    function stackPattern() {
      videos.forEach((vid, i) => {
        const offset = i * 20;
        vid.style.transform = `translate(${offset}px, ${offset}px) scale(0.9) rotate(${i*3}deg)`;
        vid.style.width = '100vw';
        vid.style.height = '100vh';
        vid.dataset.x = offset;
        vid.dataset.y = offset;
      });
    }

    function randomPattern() {
      videos.forEach((vid) => {
        vid.style.transform = randomTransform();
        vid.style.width = '100vw';
        vid.style.height = '100vh';
        vid.dataset.x = 0;
        vid.dataset.y = 0;
      });
    }

    function createVideo(withAudio = true) {
      const vid = document.createElement('video');
      vid.src = VIDEO_SRC;
      vid.loop = true;
      vid.muted = !withAudio;
      vid.playsInline = true;
      vid.style.opacity = withAudio ? 0.22 : 0.18;
      vid.style.zIndex = withAudio ? 10 : 1;
      vid.style.transform = randomTransform();
      vid.dataset.x = 0;
      vid.dataset.y = 0;
      // Interactivity: drag to move, click to bring to front
      let isDragging = false, startX = 0, startY = 0, origX = 0, origY = 0;
      vid.addEventListener('mousedown', e => {
        isDragging = true;
        startX = e.clientX;
        startY = e.clientY;
        origX = parseFloat(vid.dataset.x);
        origY = parseFloat(vid.dataset.y);
        vid.classList.add('dragging');
        vid.style.transition = 'none';
      });
      window.addEventListener('mousemove', e => {
        if (!isDragging) return;
        const dx = e.clientX - startX;
        const dy = e.clientY - startY;
        const newX = origX + dx;
        const newY = origY + dy;
        vid.dataset.x = newX;
        vid.dataset.y = newY;
        vid.style.transform = `translate(${newX}px, ${newY}px)`;
      });
      window.addEventListener('mouseup', e => {
        if (isDragging) {
          isDragging = false;
          vid.classList.remove('dragging');
          vid.style.transition = '';
        }
      });
      vid.addEventListener('click', e => {
        // Bring to front
        let maxZ = Math.max(...videos.map(v => parseInt(v.style.zIndex)||1));
        vid.style.zIndex = maxZ + 1;
      });
      container.appendChild(vid);
      videos.push(vid);
      return vid;
    }

    // Prepare videos but don't play yet
    createVideo(true);
    for (let i = 1; i < NUM_VIDEOS; i++) {
      createVideo(false);
    }

    document.getElementById('start-overlay').addEventListener('click', async function() {
      this.style.display = 'none';
      document.getElementById('pattern-controls').style.display = 'flex';
      // Try to play all videos
      for (const vid of videos) {
        try {
          await vid.play();
        } catch (e) {
          // ignore
        }
      }
      // Default to random pattern
      randomPattern();
      // Optionally, animate overlays every few seconds for chaos (only in random mode)
      let patternMode = 'random';
      let interval = setInterval(() => {
        if (patternMode === 'random') {
          videos.forEach(vid => {
            if (!vid.classList.contains('dragging')) {
              vid.style.transform = randomTransform();
              vid.dataset.x = 0;
              vid.dataset.y = 0;
            }
          });
        }
      }, 2000);
      // Pattern controls
      document.getElementById('pattern-controls').addEventListener('click', e => {
        if (e.target.tagName !== 'BUTTON') return;
        patternMode = e.target.dataset.pattern;
        if (patternMode === 'grid') gridPattern();
        else if (patternMode === 'circle') circlePattern();
        else if (patternMode === 'spiral') spiralPattern();
        else if (patternMode === 'stack') stackPattern();
        else randomPattern();
      });
    });
  </script>
</body>
</html>
